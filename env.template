
# ================== 通用配置 ==================
# 股票代码列表（用逗号分隔）
TICKERS=AAPL,MSFT,GOOGL

# 输出目录路径
OUTPUT_DIR=./analysis_results_logs

# 是否启用详细输出
VERBOSE=false

# ================== 多日策略配置 (main_multi_day.py) ==================
# 开始日期 (YYYY-MM-DD格式，留空则默认30天前)
START_DATE=

# 结束日期 (YYYY-MM-DD格式，留空则默认今天)
END_DATE=

# 是否禁用沟通机制
DISABLE_COMMUNICATIONS=false

# 是否禁用通知机制
DISABLE_NOTIFICATIONS=false

# 每日最大沟通轮数
MAX_COMM_CYCLES=3

# 是否禁用数据预取
DISABLE_DATA_PREFETCH=false

# 是否启用OKR机制
ENABLE_OKR=false

# 是否显示分析师的详细推理过程
SHOW_REASONING=false

# 是否为干运行模式
DRY_RUN=false

# ================== Live交易系统配置 (live_trading_system.py) ==================
# Live系统基础目录
LIVE_BASE_DIR=

# 回填历史数据的开始日期
BACKFILL_START_DATE=2025-01-01

# 是否强制运行（忽略交易日检查等）
FORCE_RUN=false

# 指定运行日期（用于update命令）
TARGET_DATE=

# Live系统最大沟通轮数
LIVE_MAX_COMM_CYCLES=2

# ================== 思考基金Sandbox配置 (live_trading_thinking_fund.py) ==================
# 默认模拟股票代码（如果命令行未指定）
# TICKERS 已在通用配置中定义

# 思考基金最大沟通轮数
THINKING_FUND_MAX_COMM_CYCLES=2

# 是否默认强制运行（忽略各种检查）
THINKING_FUND_FORCE_RUN=false

# ================== 记忆系统调试配置 ==================
# 禁用记忆保存（调试时使用，不会真正保存到embedding数据库）
MEMORY_SAVE_DISABLED=false

# 启用记忆系统调试输出
MEMORY_DEBUG=false

# ================== LLM记忆管理配置 ==================
# LLM记忆管理使用的模型名称
MEMORY_LLM_MODEL=gpt-4o-mini

# LLM记忆管理使用的模型提供商（OPENAI, ANTHROPIC, GROQ等）
MEMORY_LLM_PROVIDER=OPENAI

# ================== 记忆复盘模式配置 ==================
# 记忆复盘模式选择: individual_review 或 central_review (默认: individual_review)
# - individual_review: 每个Agent（包括PM）独立进行自我复盘（推荐）
# - central_review: PM统一评估所有分析师（旧模式）
MEMORY_REVIEW_MODE=individual_review

# 是否启用Individual Review（仅当MEMORY_REVIEW_MODE=individual_review时生效）
ENABLE_INDIVIDUAL_REVIEW=true

# ================== 记忆框架选择配置 ==================
# 记忆框架选择: mem0 或 reme (默认: mem0)
# - mem0: 使用Mem0框架 (默认，轻量级，基于sqlite+chroma)
# - reme: 使用ReMe框架 (需要安装flowllm包，支持更多高级功能)
MEMORY_FRAMEWORK=mem0

# ReMe框架专用配置 (仅当MEMORY_FRAMEWORK=reme时生效)
# ReMe embedding模型的向量维度
REME_EMBEDDING_DIMENSIONS=1024

# ReMe embedding模型名称
MEMORY_EMBEDDING_MODEL=text-embedding-v4

# ================== ReMe API配置 (使用ReMe框架时必需) ==================
# ReMe 使用 FLOW_ 前缀的环境变量配置
# 
# 方式1: 使用 FLOW_ 前缀配置 (推荐)
# FLOW_APP_NAME=ReMe
# FLOW_EMBEDDING_API_KEY=sk-your-api-key-here
# FLOW_EMBEDDING_BASE_URL=https://dashscope.aliyuncs.com/compatible-mode/v1
# FLOW_LLM_API_KEY=sk-your-api-key-here
# FLOW_LLM_BASE_URL=https://dashscope.aliyuncs.com/compatible-mode/v1
#
# 方式2: 直接使用 OPENAI_ 前缀配置
# OPENAI_API_KEY=sk-your-api-key-here
# OPENAI_BASE_URL=https://api.openai.com/v1
#
# 常用 API 配置示例:
# 
# - OpenAI 官方:
#   FLOW_EMBEDDING_BASE_URL=https://api.openai.com/v1
#   MEMORY_EMBEDDING_MODEL=text-embedding-3-small
#
# - 阿里云 DashScope (推荐国内用户):
#   FLOW_EMBEDDING_BASE_URL=https://dashscope.aliyuncs.com/compatible-mode/v1
#   MEMORY_EMBEDDING_MODEL=text-embedding-v4
#
# - SiliconFlow:
#   FLOW_EMBEDDING_BASE_URL=https://api.siliconflow.cn/v1
#   MEMORY_EMBEDDING_MODEL=BAAI/bge-large-zh-v1.5
#
# 注意: 如果不配置这些环境变量，ReMe 将无法生成 embedding 向量

# ================== 持续运行服务器配置 (continuous_server.py) ==================

# 持续运行服务器的WebSocket端口
CONTINUOUS_SERVER_PORT=8765

# 持续运行服务器的主机地址
CONTINUOUS_SERVER_HOST=0.0.0.0

# 运行模式: signal (信号模式) 或 portfolio (投资组合模式)
MODE=portfolio

# Portfolio模式的初始现金
INITIAL_CASH=100000.0

# Portfolio模式的保证金要求 (0.0表示禁用做空，0.5表示50%保证金)
MARGIN_REQUIREMENT=0.0

# 配置名称 (用于数据存储目录)
CONFIG_NAME=default

# ================== 在线模式服务器配置 (live_server.py) ==================
# 
# 在线模式功能说明：
# 1. 从指定天数开始回测历史交易日，然后进入今天在线模式
# 2. 高频获取实时价格（使用Finnhub Quote API: https://finnhub.io/docs/api/quote）
# 3. 实时更新：股票价格、return、净值曲线、持仓盈亏、statistics
# 4. 如果今天是交易日且在交易时段，系统会等到收盘后才执行交易
# 5. 支持Mock模式，用于非交易时段调试程序
#
# 启动方式：
#   ./start_live_server.sh                    # 正常模式（需要FINNHUB_API_KEY）
#   ./start_live_server.sh --mock             # Mock模式（测试用虚拟价格）
#   ./start_live_server.sh --clean            # 清空历史记录
#
# 详细文档：请查看 LIVE_TRADING_MODE_README.md

# 在线模式配置名称（数据存储目录）
LIVE_CONFIG_NAME=live_mode

# 在线模式WebSocket端口
LIVE_SERVER_PORT=8765

# 在线模式主机地址
LIVE_SERVER_HOST=0.0.0.0

# ========== 实时价格更新配置 ==========

# 实时价格轮询间隔（秒，在线模式使用Finnhub Quote API时生效）
# 免费账户限制: 60 calls/minute，建议设置 10-60 秒
# 付费账户: 可设置更短间隔（如 5 秒）
LIVE_PRICE_POLL_INTERVAL=10

# ========== Mock模式配置 ==========

# Mock模式价格波动率（百分比，仅Mock模式生效）
# 控制虚拟价格的波动幅度，默认0.5%表示每次更新价格变化±0.5%
MOCK_VOLATILITY=0.5

# Mock模式价格更新间隔（秒，仅Mock模式生效）
# 控制虚拟价格的更新频率，默认5秒更新一次
MOCK_POLL_INTERVAL=5

# ========== 交易执行控制配置 ==========

# 是否在交易执行前暂停（仅生成决策，不执行实际交易）
# true: 暂停模式 - 完成分析和决策，但不执行交易，价格更新继续
# false: 正常模式 - 完成分析后执行交易
PAUSE_BEFORE_TRADE=false

# ================== 数据更新配置 (ret_data_updater.py) ==================

# Finnhub API Key (用于获取历史数据)
# 免费注册: https://finnhub.io/register
FINNHUB_API_KEY=your-finnhub-api-key-here

# 历史数据起始日期 (YYYY-MM-DD格式)
DATA_START_DATE=2022-01-01

# 是否在启动时自动更新数据 (true/false)
AUTO_UPDATE_DATA=true

# ================== Agent 特定模型配置 ==================
# 为不同角色配置不同的基座模型
# 如果未配置，将使用全局 MODEL_NAME 和 MODEL_PROVIDER
#
# 角色列表：
# - SENTIMENT_ANALYST: 情绪分析师
# - TECHNICAL_ANALYST: 技术分析师
# - FUNDAMENTALS_ANALYST: 基本面分析师
# - VALUATION_ANALYST: 估值分析师
# - PORTFOLIO_MANAGER: 投资组合经理
# - RISK_MANAGER: 风险管理经理
#
# 示例配置：
# AGENT_SENTIMENT_ANALYST_MODEL_NAME=qwen-plus
# AGENT_SENTIMENT_ANALYST_MODEL_PROVIDER=OPENAI
# AGENT_TECHNICAL_ANALYST_MODEL_NAME=qwen-flash
# AGENT_TECHNICAL_ANALYST_MODEL_PROVIDER=OPENAI
# AGENT_PORTFOLIO_MANAGER_MODEL_NAME=gpt-4o
# AGENT_PORTFOLIO_MANAGER_MODEL_PROVIDER=OPENAI
