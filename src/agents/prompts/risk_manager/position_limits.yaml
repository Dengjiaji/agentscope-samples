# Position Limits Configuration
# 仓位限制配置（Portfolio 模式）

# 基准仓位限制
base_position_limit: 0.20  # 20% 基准

# 基于波动率的仓位调整
volatility_adjustments:
  low_volatility:  # < 15%
    max_volatility: 0.15
    multiplier: 1.25  # 允许 25% 配置
    description: "对稳定股票允许更高配置"
  
  medium_volatility:  # 15% - 30%
    min_volatility: 0.15
    max_volatility: 0.30
    multiplier_formula: "1.0 - (annualized_volatility - 0.15) * 0.5"
    # 20% -> 12.5% 线性递减
    description: "基于波动率微调的标准配置"
  
  high_volatility:  # 30% - 50%
    min_volatility: 0.30
    max_volatility: 0.50
    multiplier_formula: "0.75 - (annualized_volatility - 0.30) * 0.5"
    # 15% -> 5% 线性递减
    description: "显著降低配置"
  
  very_high_volatility:  # > 50%
    min_volatility: 0.50
    multiplier: 0.50  # 最多 10% 配置
    description: "高风险股票的最小配置"

# 仓位限制边界
position_limit_bounds:
  min_multiplier: 0.25  # 最少 5% (0.20 * 0.25)
  max_multiplier: 1.25  # 最多 25% (0.20 * 1.25)

# 保证金要求
margin_requirements:
  short_position_margin: 0.50  # 空头持仓需要 50% 保证金
  maintenance_margin: 0.25  # 维持保证金 25%

# 风险计算参数
risk_calculation:
  lookback_days: 60  # 波动率计算回溯天数
  trading_days_per_year: 252  # 年化计算使用的交易日数
  rolling_window: 30  # 滚动窗口大小（用于百分位计算）

